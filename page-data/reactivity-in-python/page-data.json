{"componentChunkName":"component---src-templates-post-jsx","path":"/reactivity-in-python/","result":{"data":{"markdownRemark":{"html":"<p>JavaScriptì˜ Vue, React ë“±ì—ì„œ ì“°ì´ëŠ” Reactivity ê°œë…ì„ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•´ë³´ëŠ” <a href=\"https://medium.com/vue-mastery/the-best-explanation-of-javascript-reactivity-fea6112dd80d\">The Best Explanation of JavaScript Reactivity ğŸ†</a>ë¼ëŠ” ê²Œì‹œê¸€ì„ ë³´ê³  íŒŒì´ì¬ìœ¼ë¡œ ë”°ë¼ êµ¬í˜„í•´ë´¤ë‹¤.</p>\n<figure>\n  <a href=\"https://cdn-images-1.medium.com/max/800/1*t8enMn6h0gjY6HNKoSVC1g.jpeg\">\n    <img src=\"https://cdn-images-1.medium.com/max/800/1*t8enMn6h0gjY6HNKoSVC1g.jpeg\" alt=\"Vue updates\">\n  </a>\n</figure>\n<h2>JavaScript</h2>\n<p>ì•„ë˜ ì½”ë“œì‚¬ì§„ì€ ì›ë¬¸ì—ì„œ ê°€ì ¸ì™”ë‹¤. <code>target</code> ì „ì—­ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê³  <code>Object.defineProerty</code>ë¡œ ë“±ë¡ëœ <code>Dep</code>ê³¼ <code>watcher</code> í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ê°’ ë³€ë™ì„ ì¶”ì í•˜ê³  ë“±ë¡ëœ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œë‹¤.</p>\n<figure>\n  <a href=\"https://cdn-images-1.medium.com/max/800/1*bM-LGqWYYU3lCaazJ7cAew.png\">\n    <img src=\"https://cdn-images-1.medium.com/max/800/1*bM-LGqWYYU3lCaazJ7cAew.png\" alt=\"JavaScript code\">\n  </a>\n</figure>\n<h2>Python</h2>\n<p>JavaScript ì½”ë“œì— ê°€ê¹ê²Œ íŒŒì´ì¬ ì½”ë“œë¥¼ ì‘ì„±í–ˆë‹¤. ë‹¤ë§Œ <code>Object.defineProperty</code>ì— ëŒ€ì‘ë˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ì„ì˜ë¡œ <code>Data</code> í´ë˜ìŠ¤ì— <code>__setattr__</code>, <code>__getattribute__</code>ë¥¼ êµ¬í˜„í•˜ë‹¤ë³´ë‹ˆ ì½”ë“œê°€ ì¥í™©í•´ì¡Œë‹¤. dataë¥¼ dictë¡œ ë§Œë“¤ê³  <code>__getitem__</code>, <code>__setitem__</code>ì„ ì˜¤ë²„ë¼ì´ë”© í•˜ëŠ” ë°©ë²•ë„ ê³ ë ¤í–ˆìœ¼ë‚˜ <code>data['price']</code>ê°€ ì•„ë‹Œ <code>data.price</code> ë¬¸ë²•ì„ ìœ ì§€í•˜ê³  ì‹¶ì–´ í´ë˜ìŠ¤ë¡œ ì„ ì–¸í–ˆë‹¤.</p>\n<p>ì›ë¬¸ ì½”ë“œì—ì„  dataì˜ í”„ë¡œí¼í‹°ë¥¼ ìˆœíšŒí•˜ë©´ì„œ <code>dep</code>ì„ ë§Œë“¤ì–´ ì£¼ì—ˆëŠ”ë° íŒŒì´ì¬ ì½”ë“œì—ì„  ì´ë¥¼ìœ„í•´ <code>deps</code> ë³€ìˆ˜ë¥¼ í™œìš©í–ˆë‹¤.</p>\n<pre><code class=\"language-python\"># main.py\nclass Dep:\n    def __init__(self):\n        self.subscribers = []\n\n    def depend(self):\n        if target and target not in self.subscribers:\n            self.subscribers.append(target)\n\n    def notify(self):\n        for sub in self.subscribers:\n            sub()\n\n\nclass Data:\n    def __init__(self, *args, **kwargs):\n        for name in kwargs:\n            setattr(self, name, kwargs[name])\n\n    def __setattr__(self, name, value):\n        if name not in deps:\n            deps[name] = Dep()\n        result = super().__setattr__(name, value)\n        deps[name].notify()\n        return result\n\n    def __getattribute__(self, name):\n        deps[name].depend()\n        value = super().__getattribute__(name)\n        return value\n\n\ndeps = {}\ndata = Data(price=5, quantity=2)\ntarget = None\n\n\ndef watcher(func):\n    global target\n    target = func\n    target()\n    target = None\n\n\ndef total_func():\n    data.total = data.price * data.quantity\n\n\ndef sale_price_func():\n    data.sale_price = data.price * 0.9\n\n\nwatcher(total_func)\nwatcher(sale_price_func)\n\n\ndef print_data():\n    attrs = ('sale_price', 'price', 'quantity', 'total')\n    s = (f'{attr}: {getattr(data, attr)}' for attr in attrs)\n    print(', '.join(s))\n\n\nif __name__ == '__main__':\n    print_data()\n    data.price = 20\n    print_data()\n    data.quantity = 3\n    print_data()\n</code></pre>\n<p>ìœ„ì˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<pre><code class=\"language-bash\">$ python main.py\nsale_price: 4.5, price: 5, quantity: 2, total: 10\nsale_price: 18.0, price: 20, quantity: 2, total: 40\nsale_price: 18.0, price: 20, quantity: 3, total: 60\n</code></pre>\n<h2>ë§ˆë¬´ë¦¬</h2>\n<p>ì „ì—­ ë³€ìˆ˜ë¥¼ í™œìš©í•œë‹¤ëŠ”ê²Œ ì© ë§ˆìŒì— ë“¤ì§„ ì•ŠëŠ”ë‹¤. íŒŒì´ì¬ì˜ Lambda í•¨ìˆ˜ì—ì„  ëŒ€ì…ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ë³´ë‹ˆ Arrow functionì„ ì‚¬ìš©í•œ JavaScript ì²˜ëŸ¼ ê¹”ë”í•œ ì½”ë“œê°€ ë‚˜ì˜¤ì§€ë„ ì•Šì•˜ë‹¤. ë‹¤ë§Œ callback í•¨ìˆ˜ë¥¼ ì–´ë–»ê²Œ ë“±ë¡í•˜ê³  ì–´ë–¤ ì›ë¦¬ë¥¼ í†µí•´ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ë˜ëŠ”ì§€ ì•Œì•„ë³´ê¸°ì—” ì ë‹¹í•œ ì½”ë“œì˜€ë‹¤.</p>","frontmatter":{"title":"íŒŒì´ì¬ìœ¼ë¡œ Reactivity ë”°ë¼í•˜ê¸°","image":null},"excerpt":"JavaScriptì˜ Vue, React ë“±ì—ì„œ ì“°ì´ëŠ” Reactivity ê°œë…ì„ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•´ë³´ëŠ” The Best Explanation of JavaScript Reactivity ğŸ†ë¼ëŠ” ê²Œì‹œê¸€ì„ ë³´ê³  íŒŒì´ì¬ìœ¼ë¡œ ë”°ë¼ êµ¬í˜„í•´ë´¤ë‹¤. JavaScriâ€¦"}},"pageContext":{"slug":"reactivity-in-python","date":"2018-09-15","lastmod":"2018-09-15"}},"staticQueryHashes":["269600272","3159585216"],"slicesMap":{}}